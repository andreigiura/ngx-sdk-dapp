import { inject } from '@angular/core';
import { Router, } from '@angular/router';
import { AccountService, TransactionsService, } from '../../public-api';
import { AuthenticationService } from '../services/authentication/authentication.service';
export const canActivateRoute = (route, state) => {
    const isAuthenticated = inject(AuthenticationService).isAuthenticated();
    if (!isAuthenticated) {
        const router = inject(Router);
        inject(AccountService).resetToInitialState();
        inject(TransactionsService).resetToInitialState();
        router.navigate(['/']);
    }
    return isAuthenticated;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FuQWN0aXZhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtc2RrLWRhcHAvc3JjL2xpYi9oZWxwZXJzL2NhbkFjdGl2YXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdkMsT0FBTyxFQUdMLE1BQU0sR0FFUCxNQUFNLGlCQUFpQixDQUFDO0FBQ3pCLE9BQU8sRUFDTCxjQUFjLEVBRWQsbUJBQW1CLEdBQ3BCLE1BQU0sa0JBQWtCLENBQUM7QUFDMUIsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sbURBQW1ELENBQUM7QUFFMUYsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQWtCLENBQzdDLEtBQTZCLEVBQzdCLEtBQTBCLEVBQzFCLEVBQUU7SUFDRixNQUFNLGVBQWUsR0FBRyxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN4RSxJQUFJLENBQUMsZUFBZSxFQUFFO1FBQ3BCLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUU5QixNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUM3QyxNQUFNLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQ2xELE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0tBQ3hCO0lBQ0QsT0FBTyxlQUFlLENBQUM7QUFDekIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LFxuICBDYW5BY3RpdmF0ZUZuLFxuICBSb3V0ZXIsXG4gIFJvdXRlclN0YXRlU25hcHNob3QsXG59IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQge1xuICBBY2NvdW50U2VydmljZSxcbiAgUGVybWlzc2lvbnNQcm92aWRlclNlcnZpY2UsXG4gIFRyYW5zYWN0aW9uc1NlcnZpY2UsXG59IGZyb20gJy4uLy4uL3B1YmxpYy1hcGknO1xuaW1wb3J0IHsgQXV0aGVudGljYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvYXV0aGVudGljYXRpb24vYXV0aGVudGljYXRpb24uc2VydmljZSc7XG5cbmV4cG9ydCBjb25zdCBjYW5BY3RpdmF0ZVJvdXRlOiBDYW5BY3RpdmF0ZUZuID0gKFxuICByb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCxcbiAgc3RhdGU6IFJvdXRlclN0YXRlU25hcHNob3RcbikgPT4ge1xuICBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSBpbmplY3QoQXV0aGVudGljYXRpb25TZXJ2aWNlKS5pc0F1dGhlbnRpY2F0ZWQoKTtcbiAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICBjb25zdCByb3V0ZXIgPSBpbmplY3QoUm91dGVyKTtcblxuICAgIGluamVjdChBY2NvdW50U2VydmljZSkucmVzZXRUb0luaXRpYWxTdGF0ZSgpO1xuICAgIGluamVjdChUcmFuc2FjdGlvbnNTZXJ2aWNlKS5yZXNldFRvSW5pdGlhbFN0YXRlKCk7XG4gICAgcm91dGVyLm5hdmlnYXRlKFsnLyddKTtcbiAgfVxuICByZXR1cm4gaXNBdXRoZW50aWNhdGVkO1xufTtcbiJdfQ==